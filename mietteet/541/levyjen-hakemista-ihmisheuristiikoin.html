<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />


        <!-- standard -->
	<title>Mr. P: Levyjen hakemista ihmisheuristiikoin</title>


	<link rel="home" href="../../index.html" />

	<link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="../../atom/index.html?section=mietteet" />
	<link rel="alternate" type="application/rss+xml" title="RSS 0.92" href="../../rss/index.html?section=mietteet" />

	<link rel="stylesheet" type="text/css" media="screen" href="../../blog.css" />
        <link rel="stylesheet" type="text/css" href="../../codeblock.css" />

            <!-- SyntaxHighlighter: http://alexgorbatchev.com -->
    <script type="text/javascript" src="../../scripts/xregexp-min.js"></script>
    <script type="text/javascript" src="../../scripts/shCore.js"></script>
    <!-- langs -->
    <script type="text/javascript" src="../../scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPerl.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushClojure.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushHaskell.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushVimscript.js"></script>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>

	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../rpc/index.html" />
</head>

<body id="mietteet">

<!-- accessibility -->
<div id="accessibility">
    <ul>
        <li><a href="levyjen-hakemista-ihmisheuristiikoin#content">Siirry sisältöön</a></li>
        <li><a href="levyjen-hakemista-ihmisheuristiikoin#sidebar-2">Siirry hakuun</a></li>
    </ul>
</div>

<div id="container">

<!-- head -->
    <div id="head">
        <h1 id="site-name"><a rel="home" href="../../index.html">Mr. P</a></h1>
        <p id="site-slogan">Asiaa porjoilun tuolta puolen</p>
    </div>

<!-- right -->
    <div id="sidebar-2">
        <ul class="section_list">
	<li>
            
            <a href="../../hetket/index.html">Hetkessä</a>
            
        </li>
	<li>
            
            <a href="../../matematiikka/index.html">Matematiikka</a>
            
        </li>
	<li>
            &raquo;
            <a href="../index.html">Mietteet</a>
            
                <!--<ul>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/598/blogille-idea.html">Blogille&#160;idea</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/597/wes-mckinney-python-for-data-analysis-oreilly.html">Wes McKinney - Python For Data Analysis (O&#39;Reilly)</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/596/org-blogaaminen-vaikeata.html">Org-blogaaminen&#160;vaikeata</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/595/twitterointia-emacsilla.html">Twitteröintiä&#160;Emacsilla</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/594/weboodi-aikataulut-orgiin.html">WebOodi-aikataulut&#160;orgiin</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/593/emacsin-salat-alkavat-selvita-org-kovenee-ja-muita-tarinoita.html">Emacsin salat alkavat selvitä; org kovenee ja muita&#160;tarinoita</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/592/emacs-has-me.html">Emacs has&#160;me.</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/591/editorien-taistelu-tietamyshallinnassa.html">Editorien taistelu&#160;tietämyshallinnassa</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/590/think-vimorganizer.html">Think&#160;VimOrganizer.</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/589/think-orgmode.html">Think&#160;orgmode.</a>
                </li>
</ul>-->
            
        </li>
</ul>
<!--        <p class="sidebarhead">Aiheita:</p>
        <ul class="category_list">
	<li><a href="/kategoria/hifi/">Hifi</a></li>
	<li><a href="/kategoria/koodaus/">Ohjelmointi</a></li>
	<li><a href="/kategoria/ohjelmistot/">Ohjelmistot</a></li>
	<li><a href="/kategoria/Opiskelu/">Opiskelu</a></li>
	<li><a href="/kategoria/rauta/">Rauta</a></li>
	<li><a href="/kategoria/viihde/">Viihde</a></li>
	<li><a href="/kategoria/Yleistae-turinaa/">Yleistä turinaa</a></li>
</ul> -->

        <p class="sidebarhead">Valikoituja aiheita:</p>
        <ul class="category_list">
	<li><a href="../../tag/gentoo/index.html" class="tagSizeLargest tagSize105" style="font-size: 100%;">gentoo</a></li>
	<li><a href="../../tag/hifi/index.html" class="tagSizeMedium tagSize31" style="font-size: 100%;">hifi</a></li>
	<li><a href="../../tag/ohjelmointi/index.html" class="tagSizeMedium tagSize42" style="font-size: 100%;">ohjelmointi</a></li>
	<li><a href="../../tag/opiskelu/index.html" class="tagSizeMedium tagSize17" style="font-size: 100%;">opiskelu</a></li>
	<li><a href="../../tag/ostoksia/index.html" class="tagSizeMedium tagSize11" style="font-size: 100%;">ostoksia</a></li>
	<li><a href="../../tag/palvelin/index.html" class="tagSizeMedium tagSize37" style="font-size: 100%;">palvelin</a></li>
	<li><a href="../../tag/python/index.html" class="tagSizeSmallest tagSize1" style="font-size: 100%;">python</a></li>
	<li><a href="../../tag/vim/index.html" class="tagSizeMedium tagSize34" style="font-size: 100%;">vim</a></li>
</ul>
        <p><a href="../../tag/index.html">Kaikki tagit</a></p>

        <form method="get" action="../../index.html">
<p class="search_input">Hae<br /><input type="text" value="" name="q" size="15" /></p>
</form>

        <p><a href="../../rss/index.html?section=mietteet" title="RSS 0.92">RSS</a> / <a href="../../atom/index.html?section=mietteet" title="Atom 1.0">Atom</a></p>
        <p class="linklist"><a href="http://textpattern.net/">TextBook</a><br /><a href="http://textpattern.com/">Textpattern</a><br /><a href="http://textpattern.org/">Txp Resources</a><br /><a href="http://twitter.com/progo_" title="Twitter-profiilini">Twitter</a><br /></p>

        <p><a href="http://textpattern.com/"><img src="../../images/2.png" alt="Textpattern CMS" width="105" height="45" /></a></p>
    </div>


<!-- center -->
    <div id="content">



<!-- not tag view, it's the main view -->


        

        <div class="hfeed">
            <!-- five articles to list here, or only one. It depends. -->
            <!-- default form -->

<p class="published"> 4. elokuu 2011, 17:36</p>
<h1 class="entry-title"><a rel="bookmark" href="levyjen-hakemista-ihmisheuristiikoin">Levyjen hakemista&#160;ihmisheuristiikoin</a></h1>


<div class="entry-content">
	<p>Omasta musiikkisoittimesta on kai joskus tullut puhuttua. Nyt <span class="caps">MPD</span>-aikoina on luonnollista hakea sen sijaan oman <span class="caps">MPD</span>-asiakasohjelman pariin. Hitsi kun en löytänyt, olenko julkaissut jotain mietteitäni aiemmin. Tässäpähän tulee sitten tuoreinta suunnittelua!</p>

	<h1>Järkeily</h1>

	<p>Artistit ja albumit esitetään valtaosassa soitto-ohjelmia aakkosjärjestyksessä. Joskus voi paremmasta ohjelmasta löytyä myös lisäyspäivämäärän mukaan lajittelua tai jotain muuta vänkää. Aakkosjärjestyshän on kiva, jos haluaa etsiä jonkun tietyn albumin kuunneltavaksi.</p>

	<p>Mutta useimmissa tapauksissa emme suoralta kädeltä keksi hetkeen sopivaa levyä kuunneltavaksi, ja silloin aakkosjärjestys on kamalin vaihtoehto kaikista. Aina samassa järjestyksessä, samat albumit. Moni ottaa silloin käyttöönsä shufflaukset tai spotifyt, kun eivät keksi suoralta kädeltä tarkkaa albumia, mitä kuunnella. Olen itsekin välillä tehnyt sellaista, mutta nyt haluan valjastaa ihmismielen omat järjestelytaidot avuksi.</p>

	<p>Aikoinaan suunnitelmana oli luoda virtuaalinen levyhylly, jossa voisi kursorilla selata levynkansia, ja raahata levy sitten levysoitingrafiikan päälle, ja levy lähtisi pyörimään. Koko ohjelma keskittyisi levyjen soittamiseen. Yksittäiset kappaleet jätettäisiin kokonaan huomiotta. Ehkä esittäjätkin jäävät taka-alalle. <span class="caps">MPD</span> toimii tässä kivasti: voin delegoida tylsät kappalekäsittelyrutiinit muille klienteille. Tämä ohjelma olkoon suunniteltu auttamaan musiikinkuuntelijaa hahmottamaan levykokoelmaansa, ja valitsemaan sopivaa musiikkia jokaiseen hetkeen!</p>

	<h1>Hahmotelmia</h1>

	<p>Minulla on kuin onkin joitain kuvahahmotelmia käyttöliittymästä. Olen javalla koodaillut jotain pientä jo, mutta tänään tulin siihen tulokseen, että grafiikat pitää kirjoittaa toisella tavalla. Olen aikeissa nyt sitten puntaroida puhtaan javan ja Clojuren välillä. Clojure olisi upea kieli kirjoitella tämmöinen juttu, mutta en tiedä tuosta 2D-puolen kirjoittamisesta. Pidemmittä puheitta, suunnittelemani minimalistinen päänäkymä:</p>

	<p><img src="../../kuvat/inkscape-suunnittelu-1.png" alt="" /></p>

	<p>Vasemmalla on perinteisenä listana kaikki albumit, mitkä löytyvät <span class="caps">MPD</span>-tietokannasta, mutta <em>eivät</em> ole oikeanpuoleisella kankaalla.  Oikealla on sitten rauhallinen kangas, johon yksinkertaisesti raahataan levynkansi haluamalleen paikalle. Sijoittelu on täysin vapaata. Fiksuinta olisi panna jonnekin täppä, jolla kannet voi kuitenkin lukita tietyille sijoilleen.</p>

	<p>Reaalitapauksessa levyjen suuresta määrästä johtuen kankaaseen pitäisi saada zoomaustoiminto, tai ainakin vieritystä. Oletuskuvakekooksi ajattelin jotain sadan pikselin paikkeille, ja zoomatessa voisi mennä hyvinkin pieneksi.</p>

	<p>Hiirivetoiseksi käyttöliittymäksi lähinnä ajattelin: kun kursorin vie kansikuvan päälle, tulee näkyville lyhyt info albumin metatiedoista. Ehkä siihen voisi kappalelistaustakin ajatella.</p>

	<p><img src="../../kuvat/inkscape-suunnittelu-2.png" alt="" /></p>

	<p>Ja tietysti se interaktio levyjen kanssa. Montaa ominaisuutta en edes keksi. Kontekstivalikon kautta kuitenkin käsiteltävissä:</p>

	<p><img src="../../kuvat/inkscape-suunnittelu-3.png" alt="" /></p>

	<p>Ja siinäpä ne hahmotelmani nyt ovat. Levynkannet on helppo hakea Last.fm:n <span class="caps">API</span>-kirjastojen kautta. Alas voisi laittaa jonkun tilapalkin siitä, mitä nyt soi. Itse kangas on helppo tallentaa tiedostoon: käydään vain jokainen kankaalla esiintyvä levy läpi, tallennetaan tiedostoon albumin yksilöivät tiedot ja koordinaatit, jossa se on piirrettynä.</p>

	<p>Samalla vaivalla sitten voidaankin tehdä erilaisia organisointeja, ja ehkäpä kehittää jotain algoritmeja valintojen helpottamiseksi. Tämä on yksiulotteisen listan sijaan kaksiulotteinen ruudukko, joten uusia ideoita on mahdollista kokeilla. Joku ryhmittely artistin mukaan ryppäisiin olisi perusjuttuja.</p>

	<h2>Nykytoteutus</h2>

	<p>Javalla olen harjoitellut lähinnä ideoita. Nykysysteemissä meillä on yksi tavallinen listakomponentti, josta voi raahata tavalliselle kankaalle kuvan. Kuvat tallennetaan järjestettyyn puuhun koordinaattien mukaan, ja ne piirretään kaikki näkyville uudelleenpiirron ohessa. Systeemi epäilemättä hidastuu liikaa kansien lukumäärän kasvaessa. Erityisen hitaaksi systeemi menee, kun kursorin liikkeet pitää saada napattua, ja sitten tehtyä pitkän kaavan mukainen O(n)-haku löytääksemme sen kannen, joka on kursorin alla. </p>

	<p>Sen sijaan kustomoitu piirtokangas pitää muuntaa paneeliksi (tai se on jo nyt JPanel), jolla on vapaa layout. Levynkannet pitää sen sijaan toteuttaa komponentteina (periytetty vaikka Canvas-luokasta), joille voi kirjoittaa MouseListenerit. </p>

	<p>Tai sitten aloitan homman uudestaan Clojurella, ja teen sen kokonaan sillä. En ole aivan varma, haluanko ryhtyä siihen, epäilemättä suurehkoon työhön.</p>
</div>

<p class="tags"> 


Tageja: <a href="../../tag/clojure/index.html" rel="tag">clojure</a>, 
<a href="../../tag/java/index.html" rel="tag">java</a>, 
<a href="../../tag/mpd/index.html" rel="tag">mpd</a>, 
<a href="../../tag/ohjelmointi/index.html" rel="tag">ohjelmointi</a>


</p>



<div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>


        </div>

 <!-- now, common stuff -->

        <div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>

        <p><a rel="prev" href="../540/koneenjaosta-viela-kerran" title="Koneenjaosta vielä kerran">&#171; Koneenjaosta vielä kerran</a> 
           &mdash; <a rel="next" href="../542/git-repon-aktiivisuus-graafiksi" title="Git-repon aktiivisuus graafiksi">Git-repon aktiivisuus graafiksi &#187;</a>
        </p>

        <div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>
        <h2>Aiheen vierestä</h2>
        <ul class="directory">

<li><span class="entry-title"><a rel="bookmark" href="../587/tehokkaat-kayttoliittymat-vaivatta">Tehokkaat käyttöliittymät&#160;vaivatta</a></span> &#183; <span class="published">2012-08-16</span>
<br /><span class="smallexcerpt">Ohjelmoijan onni on elää komentorivillä. Tehokkaiden käyttöliittymien rustaaminen on varsin nopeata, kunhan luottaa siihen, että suurta suosiota tuotokset eivät tule...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../584/pythonin-vastaisku-lispeille-ipython-ja-vim-ipython">Pythonin vastaisku lispeille: IPython ja vim-ipython</a></span> &#183; <span class="published">2012-07-25</span>
<br /><span class="smallexcerpt">Tai &#8220;Pythonin uusi toivo&#8221; tai &#8220;Pythonin paluu&#8221;. Mistä on kyse? Pythonin tulkin me kaikki kai tiedämme: kaikki siinä periaatteessa on,...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../581/sumitup-puutteet-ja-mihin-suuntaan-edetaan">SumItUp: puutteet ja mihin suuntaan&#160;edetään</a></span> &#183; <span class="published">2012-07-12</span>
<br /><span class="smallexcerpt">Esittelin pari postausta sitten Soulver-kloonin raakileen, SumItUpin. Nyt se on GitHubissa kaikkien pällisteltävänä ja sellaisella raakileasteella, jotta sitä voi jo...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../579/soulver-kloonia-rakentelemassa">Soulver-kloonia&#160;rakentelemassa</a></span> &#183; <span class="published">2012-07-07</span>
<br /><span class="smallexcerpt">Erittäin upealla konseptilla varustettu laskinohjelma Soulver kaatuu siihen, että sen saa vain Mäkille. Vapaamuotoinen näpertelyalusta on usein ainut asia, mitä...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../569/satunnaiset-jazzit-soittolistalta">Satunnaiset jazzit&#160;soittolistalta</a></span> &#183; <span class="published">2012-03-18</span>
<br /><span class="smallexcerpt">Jonkin aikaa sitten kirjailin nopean bash-skriptin, joka hakee haluamastaan MPD-soittolistasta tietyn verran kappaleita. Siten, että musiikkia saadaan noin tietyn aikarajan...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../566/terminaaleja-vimista-kasin">Terminaaleja Vimistä&#160;käsin</a></span> &#183; <span class="published">2012-02-11</span>
<br /><span class="smallexcerpt">Vanha kunnon ConqueTerm on nyt valmis ja käyttökelpoinen tuote kehittelyyn.

	Olen viime päivinä alkanut käyttää vimiä hyvin emacsmaisesti. Se on tietenkin...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../565/mita-on-kehittaa-clojurella">Mitä on kehittää&#160;Clojurella</a></span> &#183; <span class="published">2012-02-05</span>
<br /><span class="smallexcerpt">C- ja muunkielisissä projekteissa tavataan kirjoittaa koodia ensin, ja sitten testataan. Tietysti vaatimus osittain syntyy koodin kääntämisestä; ilman kääntöä ei...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../564/ranskalaisten-viivojen-parsimista-clojurella">Ranskalaisten viivojen parsimista&#160;Clojurella</a></span> &#183; <span class="published">2012-02-02</span>
<br /><span class="smallexcerpt">Kirjoitin männäviikolla kokeilumielessä ohjelman, joka kääntää ranskalaiset viivat Beamer-Latexiksi. Ideana olisi tuottaa esityksen lihapuoli nopeasti rustaamalla tiivistä merkintää ja sitten...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../556/korintaytto-ja-ahne-menetelma">Korintäyttö ja ahne&#160;menetelmä</a></span> &#183; <span class="published">2011-10-23</span>
<br /><span class="smallexcerpt">Mietiskelen tässä korintäyttöä (bin packing) ja sitä, miten ahne menetelmä on joko ylipolynomiaalinen tai sitten epäoptimaalinen.  Luultavasti se on...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../551/tekijoita-clojurella">Tekijöitä&#160;Clojurella</a></span> &#183; <span class="published">2011-09-17</span>
<br /><span class="smallexcerpt">Nyt olen joutunut opiskelemaan tuota lukuteoriaa ja sen alkeita, ja monet niistä teorioista ovat innoittaneet minulle pieniä Clojure-ohjelmia. Se pää...</span>
</li>

</ul>

    </div>


<!-- footer -->
	<div id="foot">&nbsp;</div>

</div>

</body>
</html>
