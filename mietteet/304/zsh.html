<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />


        <!-- standard -->
	<title>Mr. P: Zsh</title>


	<link rel="home" href="../../index.html" />

	<link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="../../atom/index.html?section=mietteet" />
	<link rel="alternate" type="application/rss+xml" title="RSS 0.92" href="../../rss/index.html?section=mietteet" />

	<link rel="stylesheet" type="text/css" media="screen" href="../../blog.css" />
        <link rel="stylesheet" type="text/css" href="../../codeblock.css" />

            <!-- SyntaxHighlighter: http://alexgorbatchev.com -->
    <script type="text/javascript" src="../../scripts/xregexp-min.js"></script>
    <script type="text/javascript" src="../../scripts/shCore.js"></script>
    <!-- langs -->
    <script type="text/javascript" src="../../scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPerl.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushClojure.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushHaskell.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushVimscript.js"></script>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>

	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../rpc/index.html" />
</head>

<body id="mietteet">

<!-- accessibility -->
<div id="accessibility">
    <ul>
        <li><a href="zsh#content">Siirry sisältöön</a></li>
        <li><a href="zsh#sidebar-2">Siirry hakuun</a></li>
    </ul>
</div>

<div id="container">

<!-- head -->
    <div id="head">
        <h1 id="site-name"><a rel="home" href="../../index.html">Mr. P</a></h1>
        <p id="site-slogan">Asiaa porjoilun tuolta puolen</p>
    </div>

<!-- right -->
    <div id="sidebar-2">
        <ul class="section_list">
	<li>
            
            <a href="../../hetket/index.html">Hetkessä</a>
            
        </li>
	<li>
            
            <a href="../../matematiikka/index.html">Matematiikka</a>
            
        </li>
	<li>
            &raquo;
            <a href="../index.html">Mietteet</a>
            
                <!--<ul>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/598/blogille-idea.html">Blogille&#160;idea</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/597/wes-mckinney-python-for-data-analysis-oreilly.html">Wes McKinney - Python For Data Analysis (O&#39;Reilly)</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/596/org-blogaaminen-vaikeata.html">Org-blogaaminen&#160;vaikeata</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/595/twitterointia-emacsilla.html">Twitteröintiä&#160;Emacsilla</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/594/weboodi-aikataulut-orgiin.html">WebOodi-aikataulut&#160;orgiin</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/593/emacsin-salat-alkavat-selvita-org-kovenee-ja-muita-tarinoita.html">Emacsin salat alkavat selvitä; org kovenee ja muita&#160;tarinoita</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/592/emacs-has-me.html">Emacs has&#160;me.</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/591/editorien-taistelu-tietamyshallinnassa.html">Editorien taistelu&#160;tietämyshallinnassa</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/590/think-vimorganizer.html">Think&#160;VimOrganizer.</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/589/think-orgmode.html">Think&#160;orgmode.</a>
                </li>
</ul>-->
            
        </li>
</ul>
<!--        <p class="sidebarhead">Aiheita:</p>
        <ul class="category_list">
	<li><a href="/kategoria/hifi/">Hifi</a></li>
	<li><a href="/kategoria/koodaus/">Ohjelmointi</a></li>
	<li><a href="/kategoria/ohjelmistot/">Ohjelmistot</a></li>
	<li><a href="/kategoria/Opiskelu/">Opiskelu</a></li>
	<li><a href="/kategoria/rauta/">Rauta</a></li>
	<li><a href="/kategoria/viihde/">Viihde</a></li>
	<li><a href="/kategoria/Yleistae-turinaa/">Yleistä turinaa</a></li>
</ul> -->

        <p class="sidebarhead">Valikoituja aiheita:</p>
        <ul class="category_list">
	<li><a href="../../tag/gentoo/index.html" class="tagSizeLargest tagSize95" style="font-size: 100%;">gentoo</a></li>
	<li><a href="../../tag/hifi/index.html" class="tagSizeMedium tagSize21" style="font-size: 100%;">hifi</a></li>
	<li><a href="../../tag/musiikki/index.html" class="tagSizeMedium tagSize13" style="font-size: 100%;">musiikki</a></li>
	<li><a href="../../tag/opiskelu/index.html" class="tagSizeMedium tagSize7" style="font-size: 100%;">opiskelu</a></li>
	<li><a href="../../tag/ostoksia/index.html" class="tagSizeSmallest tagSize1" style="font-size: 100%;">ostoksia</a></li>
	<li><a href="../../tag/palvelin/index.html" class="tagSizeMedium tagSize27" style="font-size: 100%;">palvelin</a></li>
	<li><a href="../../tag/rauta/index.html" class="tagSizeMedium tagSize13" style="font-size: 100%;">rauta</a></li>
	<li><a href="../../tag/vim/index.html" class="tagSizeMedium tagSize24" style="font-size: 100%;">vim</a></li>
</ul>
        <p><a href="../../tag/index.html">Kaikki tagit</a></p>

        <form method="get" action="../../index.html">
<p class="search_input">Hae<br /><input type="text" value="" name="q" size="15" /></p>
</form>

        <p><a href="../../rss/index.html?section=mietteet" title="RSS 0.92">RSS</a> / <a href="../../atom/index.html?section=mietteet" title="Atom 1.0">Atom</a></p>
        <p class="linklist"><a href="http://textpattern.net/">TextBook</a><br /><a href="http://textpattern.com/">Textpattern</a><br /><a href="http://textpattern.org/">Txp Resources</a><br /><a href="http://twitter.com/progo_" title="Twitter-profiilini">Twitter</a><br /></p>

        <p><a href="http://textpattern.com/"><img src="../../images/2.png" alt="Textpattern CMS" width="105" height="45" /></a></p>
    </div>


<!-- center -->
    <div id="content">



<!-- not tag view, it's the main view -->


        

        <div class="hfeed">
            <!-- five articles to list here, or only one. It depends. -->
            <!-- default form -->

<p class="published">10. huhtikuu 2010, 16:03</p>
<h1 class="entry-title"><a rel="bookmark" href="zsh">Zsh</a></h1>


<div class="entry-content">
	<p>Kuten aika monelle muullekin linuxistille, <code>bash</code> on jotenkin vain se paras ja toimivin ratkaisu &#8212;- mikä johtuu lähinnä siitä, että se on <em>de facto</em>.  Vaihto johonkin muuhun tuntuu vähintäänkin hereettiseltä. Vaan kaikki nykyisin käytettävät modernit shellit, <code>bash</code>, <code>tcsh</code> ja <code>zsh</code> omaavat paljon mukavia ja tehokkaita toimintoja, ja siinä mielessä eri shellien käytössä makuasia ratkaisee eniten.</p>

	<p>Miksei sitten <code>bash</code>, kun sen jo osaa. Niin, en osaakaan sanoa. Bashissa on pari ongelmaa, joista ainakin toiseen ei ole tarjolla ratkaisua. Toisesta en osaa sanoa. </p>

	<p>Toinen, käyttöä paikoin hankaloittava viritelmä on se, että hakemistopolkua täydennellessään sanan pyyhkiminen <code>^W</code>:llä hävittää bashin sanahakuasetusten nojalla kaiken aina edelliseen whitespaceen asti. Uskoisin, että tähän löytyy ratkaisu bashin omista joukoista varsin helposti. Mutta se toinen on vähän haasteellisempi: käytettäessä vi-näppäimiä tulisi järkevää käyttöä ajatellen saada johonkin nurkkaan näkyville aktiivinen moodi: normaali- vai lisäystila. Tätä ei bash ja readline yksinkertaisesti kykene nykysuunnittelulla tekemään. <strong>Readline</strong> on liian tiivis, ja palauttaa bashille vasta lopulliset inputit. Mikäli olen ymmärtänyt oikein, <code>zsh</code> ei käydä Readlineä, vaikka muuten sen ympäristö on tehty vastaamaan readlinen konventioita. Sivussa on mahdollisuus pienellä virittelyllä saada aikaan moodin ilmaisin. Näin olen sitten sen ottanut käyttööni.</p>

	<p><a href="../../kuvat/vim_zsh.png"><img src="../../kuvat/thumbs/thumb_vim_zsh.png" title="" alt="" /></a></p>

	<p>On myös aika jättää ihan asiallinen (sekä esteettinenkin) gentoon vakio-bash-prompti rauhaan, ja napata mukaan jotain uutta. Kuvassa näkeekin homman jujuja. Kellonaika oikeassa reunassa toimii eräänlaisena timestamppina kuin senhetkistä aikaa näyttämässä. Sitä olen joskus kaipaillutkin.</p>

	<p><a href="http://zsh.sourceforge.net/FAQ/zshfaq01.html#l4"><span class="caps">ZSH</span>:n hyviä puolia</a> lukiessa nousee väistämättä vesi kielelle. Kun olen jo hylännyt graafiset tiedostohallinnat, miksen myös tehostaisi konsolityöskentelyäni ja mukauttaisi sitä sille tasolle, jossa voin aidosti tuntea olevani koneen kanssa yhtä. Bash välillä kiukuttelee vastaan joissain jutuissa, joten vaihdos tehnee hyvää. </p>

	<p>Tehostaakseni shellin käyttöönottoa vaihdoin sen oletusshellikseni. Eihän siitä opettelusta tule mitään, jos ensimmäinen tenkkapoo aiheuttaa <code>^D</code>:n pikaisen painamisen ja asian hoitamisen bashin puolella loppuun. Pikaisesti viriteltynä <code>zsh</code> miellyttää kovasti. Ensikäynnistyksellä tulee retrohtava asetuswizard, jossa käydään pari perusasetusta heti läpi. Esimerkiksi historian asettaminen sujui siellä hyvin. Sen jälkeen tavaraa lähdetäänkin hakkailemaan konffitiedoston välityksellä. Interneteistä löytyy hyviä oppaita kiinnostuneille. Aivan alustavat säädöt tein <a href="http://docs.cs.byu.edu/linux/advanced/zsh.html">jonkun yliopiston</a> dokumentteja myötäillen. </p>

	<p>Hyödynnän terminaalien 256-väriset mahdollisuudet. Hakemistopolku on kivalla vihreällä ja lisäksi vieläpä kursivoituna! Osaako tätä enää konsolisoftaksi sanoakaan. Lisävärejä ja sitä, kuinka ne puetaan <span class="caps">ANSI</span>-koodeiksi, lähdin googlailemaan, ja tuloksena tuli oikein <a href="http://lucentbeing.com/blog/that-256-color-thing/">maukas sepustus</a> aiheesta. Mukana on vielä pieni skriptinpalanen, joka helpottaa hommaa valtavasti.</p>

	<p>Ja kun alussa puhuin Vi-moodin säätämisestä, siihen löytyy selostus <a href="http://pthree.org/2009/03/28/add-vim-editing-mode-to-your-zsh-prompt/">tämän artikkelin</a> pohjalta. Ja kuten arvata saattaa, <a href="http://en.gentoo-wiki.com/wiki/Zsh">Gentoon wikissä</a> on kova määrä pieniä vinkkejä myös <code>zsh</code>:lle. Eivät ole distrospesifisiä. </p>

	<p>Kuten bashissakin, voi zsh:ssä lisäksi bindailla emacs-henkisiin komentoihin haluamiaan näppäimiä aivan kuten parhaaksi näkee. Bashissa toimiva kiva <code>Alt-.</code> on hyvä lisä tännekin. Tämmöistä pientä tänään. Shell-koodailut saatan kuitenkin jatkossakin pitää bashissa, ellen sitten vaihda pythoniin. Elämme jänniä aikoja shell-rintamalla.</p>
</div>

<p class="tags"> 


Tageja: <a href="../../tag/bash/index.html" rel="tag">bash</a>, 
<a href="../../tag/zsh/index.html" rel="tag">zsh</a>


</p>



<div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>


        </div>

 <!-- now, common stuff -->

        <div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>

        <p><a rel="prev" href="../301/paluu-kahteen-nayttoon" title="Paluu kahteen näyttöön">&#171; Paluu kahteen näyttöön</a> 
           &mdash; <a rel="next" href="../305/vi-nappaimet-shellikaytossa" title="Vi-näppäimet shellikäytössä">Vi-näppäimet shellikäytössä &#187;</a>
        </p>

        <div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>
        <h2>Aiheen vierestä</h2>
        <ul class="directory">

<li><span class="entry-title"><a rel="bookmark" href="../590/think-vimorganizer">Think&#160;VimOrganizer.</a></span> &#183; <span class="published">2012-09-02</span>
<br /><span class="smallexcerpt">Asiat rullaavat eteenpäin tyydyttävää tahtia tämän uuden tiedonhallinnan kanssa. Nyt olen säätänyt kuntoon jokaisesta kulmasta toimivan org-capture -variantin, jolla saan...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../571/tv-saato-on-nyt-valmis">TV-säätö on nyt&#160;valmis</a></span> &#183; <span class="published">2012-03-23</span>
<br /><span class="smallexcerpt">No niin. Uuden NVidia-kortin ansiosta TV-episodi on käsitelty voitokkaasti. Jos rahalla asiasta selviämistä ei lasketa huijaamiseksi.

	Oppirahoja tuli taas tosiaankin hassattua....</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../569/satunnaiset-jazzit-soittolistalta">Satunnaiset jazzit&#160;soittolistalta</a></span> &#183; <span class="published">2012-03-18</span>
<br /><span class="smallexcerpt">Jonkin aikaa sitten kirjailin nopean bash-skriptin, joka hakee haluamastaan MPD-soittolistasta tietyn verran kappaleita. Siten, että musiikkia saadaan noin tietyn aikarajan...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../547/pieni-tiedostolistausapu">Pieni&#160;tiedostolistausapu</a></span> &#183; <span class="published">2011-09-04</span>
<br /><span class="smallexcerpt">Pitäisi viritellä joku zsh-funktio tekemään seuraavanlaisia tiedostolistauksia nykyisestä hakemistosta:

$ ls -1
foo.txt
bar.txt
paperi.tex
vanhapaperi.tex.gz
$ l .txt
foo.txt
bar.txt
$ l peri
paperi.tex
vanhapaperi.tex.gz
$ l v*p
vanhapaperi.tex.gz
$ ls $files
vanhapaperi.tex.gz


	Eli sen...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../542/git-repon-aktiivisuus-graafiksi">Git-repon aktiivisuus&#160;graafiksi</a></span> &#183; <span class="published">2011-08-15</span>
<br /><span class="smallexcerpt">Tässä erilaisten projektien loukussa löysin itselleni pienen hengähdystauon kirjoittaessani bash-gnuplot -kaksikon, missä tutkin git-repojen aktiivisuutta graafin muodossa. Varmaan git gui...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../522/symlinkit-oikeiksi-tiedostoiksi-parantelua">Symlinkit oikeiksi tiedostoiksi:&#160;parantelua</a></span> &#183; <span class="published">2011-04-03</span>
<br /><span class="smallexcerpt">Edellisessä jutussa hahmottelin alustavan rakennelman. Tällä kertaa se pitää parantaa loppuunsa lisäämällä argumentteja ja argumenttien hallintaa skriptiin. Kryptiset getopt-koodit aukesivat...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../519/symlinkit-oikeiksi-tiedostoiksi">Symlinkit oikeiksi&#160;tiedostoiksi</a></span> &#183; <span class="published">2011-03-25</span>
<br /><span class="smallexcerpt">Onko tullut joskus tarvetta muuntaa hakemistollinen symlinkkejä oikeiksi tiedostoiksi, jotta voisi poistaa tiedostot niiden alkuperäisessä paikassaan? Yllättäen tätä varten piti...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../517/zsh-syntaksivarityksella">ZSH&#160;syntaksivärityksellä!</a></span> &#183; <span class="published">2011-03-09</span>
<br /><span class="smallexcerpt">Tajusin eräs kaunis päivä, että ZSH voisi oman tekstinsyöttökoneensa ansiosta tukea myös reaaliaikaista syntaksivärjäystä. Komentokehote ottaa koodikieltä vastaan, joten miksi...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../354/bash-skriptailua-ja-vareja">Bash-skriptailua ja&#160;värejä</a></span> &#183; <span class="published">2010-11-22</span>
<br /><span class="smallexcerpt">Taas tuli esille pieni tarve kirjoittaa bash-skriptinpalasta, ja nyt tuntuu sujuvan vain paremmin kuin koskaan ennen. Sopivan värilistauksen ansiosta myös...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../318/from-bash-to-z-shell">From Bash to Z&#160;Shell</a></span> &#183; <span class="published">2010-05-02</span>
<br /><span class="smallexcerpt">Laitoin suosituksesta sellaista kirjaa tulemaan. Mukava reilu 400-sivuinen eepos nimensämukaisesti kahdesta eniten käytetystä shellistä. Ajattelin hallita systeemiä kokonaisuudessaan, joten nyt...</span>
</li>

</ul>

    </div>


<!-- footer -->
	<div id="foot">&nbsp;</div>

</div>

</body>
</html>
