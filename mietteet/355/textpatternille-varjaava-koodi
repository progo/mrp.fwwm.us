<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />


        <!-- standard -->
	<title>Mr. P: TextPatternille värjäävä koodi</title>


	<link rel="home" href="../../index.html" />

	<link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="../../atom/index.html?section=mietteet" />
	<link rel="alternate" type="application/rss+xml" title="RSS 0.92" href="../../rss/index.html?section=mietteet" />

	<link rel="stylesheet" type="text/css" media="screen" href="../../blog.css" />
        <link rel="stylesheet" type="text/css" href="../../codeblock.css" />

            <!-- SyntaxHighlighter: http://alexgorbatchev.com -->
    <script type="text/javascript" src="../../scripts/xregexp-min.js"></script>
    <script type="text/javascript" src="../../scripts/shCore.js"></script>
    <!-- langs -->
    <script type="text/javascript" src="../../scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPerl.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushClojure.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushHaskell.js"></script>
    <script type="text/javascript" src="../../scripts/shBrushVimscript.js"></script>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>

	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../rpc/index.html" />
</head>

<body id="mietteet">

<!-- accessibility -->
<div id="accessibility">
    <ul>
        <li><a href="textpatternille-varjaava-koodi#content">Siirry sisältöön</a></li>
        <li><a href="textpatternille-varjaava-koodi#sidebar-2">Siirry hakuun</a></li>
    </ul>
</div>

<div id="container">

<!-- head -->
    <div id="head">
        <h1 id="site-name"><a rel="home" href="../../index.html">Mr. P</a></h1>
        <p id="site-slogan">Asiaa porjoilun tuolta puolen</p>
    </div>

<!-- right -->
    <div id="sidebar-2">
        <ul class="section_list">
	<li>
            
            <a href="../../hetket/index.html">Hetkessä</a>
            
        </li>
	<li>
            
            <a href="../../matematiikka/index.html">Matematiikka</a>
            
        </li>
	<li>
            &raquo;
            <a href="../index.html">Mietteet</a>
            
                <!--<ul>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/598/blogille-idea">Blogille&#160;idea</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/597/wes-mckinney-python-for-data-analysis-oreilly">Wes McKinney - Python For Data Analysis (O&#39;Reilly)</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/596/org-blogaaminen-vaikeata">Org-blogaaminen&#160;vaikeata</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/595/twitterointia-emacsilla">Twitteröintiä&#160;Emacsilla</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/594/weboodi-aikataulut-orgiin">WebOodi-aikataulut&#160;orgiin</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/593/emacsin-salat-alkavat-selvita-org-kovenee-ja-muita-tarinoita">Emacsin salat alkavat selvitä; org kovenee ja muita&#160;tarinoita</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/592/emacs-has-me">Emacs has&#160;me.</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/591/editorien-taistelu-tietamyshallinnassa">Editorien taistelu&#160;tietämyshallinnassa</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/590/think-vimorganizer">Think&#160;VimOrganizer.</a>
                </li>
	<li>
                    
                    <a rel="bookmark" href="/mietteet/589/think-orgmode">Think&#160;orgmode.</a>
                </li>
</ul>-->
            
        </li>
</ul>
<!--        <p class="sidebarhead">Aiheita:</p>
        <ul class="category_list">
	<li><a href="/kategoria/hifi/">Hifi</a></li>
	<li><a href="/kategoria/koodaus/">Ohjelmointi</a></li>
	<li><a href="/kategoria/ohjelmistot/">Ohjelmistot</a></li>
	<li><a href="/kategoria/Opiskelu/">Opiskelu</a></li>
	<li><a href="/kategoria/rauta/">Rauta</a></li>
	<li><a href="/kategoria/viihde/">Viihde</a></li>
	<li><a href="/kategoria/Yleistae-turinaa/">Yleistä turinaa</a></li>
</ul> -->

        <p class="sidebarhead">Valikoituja aiheita:</p>
        <ul class="category_list">
	<li><a href="../../tag/blogisäätöä/index.html" class="tagSizeMedium tagSize24" style="font-size: 100%;">blogisäätöä</a></li>
	<li><a href="../../tag/gentoo/index.html" class="tagSizeLargest tagSize104" style="font-size: 100%;">gentoo</a></li>
	<li><a href="../../tag/hifi/index.html" class="tagSizeMedium tagSize30" style="font-size: 100%;">hifi</a></li>
	<li><a href="../../tag/ohjelmistot/index.html" class="tagSizeMedium tagSize3" style="font-size: 100%;">ohjelmistot</a></li>
	<li><a href="../../tag/ohjelmointi/index.html" class="tagSizeMedium tagSize41" style="font-size: 100%;">ohjelmointi</a></li>
	<li><a href="../../tag/ostoksia/index.html" class="tagSizeMedium tagSize10" style="font-size: 100%;">ostoksia</a></li>
	<li><a href="../../tag/palvelin/index.html" class="tagSizeMedium tagSize36" style="font-size: 100%;">palvelin</a></li>
	<li><a href="../../tag/pelaaminen/index.html" class="tagSizeSmallest tagSize1" style="font-size: 100%;">pelaaminen</a></li>
</ul>
        <p><a href="../../tag/index.html">Kaikki tagit</a></p>

        <form method="get" action="../../index.html">
<p class="search_input">Hae<br /><input type="text" value="" name="q" size="15" /></p>
</form>

        <p><a href="../../rss/index.html?section=mietteet" title="RSS 0.92">RSS</a> / <a href="../../atom/index.html?section=mietteet" title="Atom 1.0">Atom</a></p>
        <p class="linklist"><a href="http://textpattern.net/">TextBook</a><br /><a href="http://textpattern.com/">Textpattern</a><br /><a href="http://textpattern.org/">Txp Resources</a><br /><a href="http://twitter.com/progo_" title="Twitter-profiilini">Twitter</a><br /></p>

        <p><a href="http://textpattern.com/"><img src="../../images/2.png" alt="Textpattern CMS" width="105" height="45" /></a></p>
    </div>


<!-- center -->
    <div id="content">



<!-- not tag view, it's the main view -->


        

        <div class="hfeed">
            <!-- five articles to list here, or only one. It depends. -->
            <!-- default form -->

<p class="published">22. marraskuu 2010, 22:43</p>
<h1 class="entry-title"><a rel="bookmark" href="textpatternille-varjaava-koodi">TextPatternille värjäävä&#160;koodi</a></h1>


<div class="entry-content">
	<p>Vähänkään suositummalle <span class="caps">CMS</span>-alustalle syntaksia värjäävän kooditoiminnon löytymisen ei pitäisi olla ongelma. No, ei ollutkaan. TextPatternin semantiikkaa etsitään kuitenkin muilta vesiltä kuin omilta. Kuinka typerää.</p>

	<p>Ensin pieni rantti suositusta Geshi-värjäystyökalusta, joka on <span class="caps">PHP</span>:llä väännetty ratkaisu. Se on ihan kiva sinänsä. Yksi pääohjelma ja sitten plugineina kukin tuettu kieli. Modulaarista ja mukavaa. Mutta mitenkäs käykään, kun joku haluaa kaikille eri syntakseille saman värjäyksen? Geshiläiset <span class="caps">PHP</span>-miehet eivät ole tainneet vimiä käytellä, sillä sen nerokas tai vähintään maalaisjärkinen ratkaisu puuttuu kokonaan Geshin ratkaisusta. Oikeastihan värjäysskriptin pitäisi</p>

	<ol>
		<li>Antaa kielikohtaisen moduulin päättää, mitä eri tekstielementit (symbolit, avainsanat, &#8230;) ovat</li>
		<li>Värjätä nämä elementit pääohjelmassa käyttäjän määrittelemillä väreillä. Tällöin voidaan määritellä suoraan kaikkien kielten eri avainsanat vaikka siniseksi ja numerot punaiseksi, kielestä riippumatta.</li>
		<li>Bonusta saa määrittelemällä väritykset <span class="caps">CSS</span>-luokkina, jotta homma on viimeisen päälle älykkäästi tehty.</li>
	</ol>

	<p>Miten Geshi tekee sen? Ihanasti joka kielelle on moduulinsa, jonka <strong>sisällä</strong> kuitenkin määritellään jokainen väritys. Vieläpä ilman <span class="caps">CSS</span>-luokkia. Minun pitäisi siis käsitellä kaikki kielet läpi, jotta saisin yhtenäisen ulkoasun koodilistauksille? Aargh.</p>

	<p>E^2^: no, jaksoin lukea vähän <span class="caps">FAQ</span>:ia, ja <span class="caps">CSS</span>-tyylit onnistuvat hyvin. Sentään se! Nyt enää riittää määritellä globaalit värit näille kaikille. Yksi viriteltävä asia on sentään vielä jäljellä: Geshi ei määritä koodille kuin yhden luokan, joka on kielikohtainen. Joitain älyttömyyksiä on siis paljonkin seassa. En voi globaalisti laittaa kaikkia koodeja tasalevyisiksi, vaan kullekin kielelle erikseen. No, puukotan koodia.</p>

	<p>Lisäksi minun pitää muistaa viritellä TextPatternin moottoria siten, että <code>bc</code>-komennon (block code) käyttäminen aktivoi värjäyksen. Ei ole yhtään fiksua, että semanttisuus katoaisi väläyksessä lisäosan takia. Entä jos vuoden päästä haluaisin vaihtaa värjäyskonetta? Joutuisin käymään vanhat postaukset läpi ja manuaalisesti vaihtaa aktivointikomennot, sen sijaan että käyttäisin block code -ympäristöä. TextPattern kaipaisi vähän tämmöistä laajennettavuutta. Huoh, olisikin tuossa tuo uudempi 4.3.0 päivitettävänä, mutta en oikein jaksa lähteä siihen. Saattaa vaikka mikä paukkua.</p>
</div>

<p class="tags"> 


Tageja: <a href="../../tag/blogisäätöä/index.html" rel="tag">blogisäätöä</a>


</p>



<div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>


        </div>

 <!-- now, common stuff -->

        <div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>

        <p><a rel="prev" href="../354/bash-skriptailua-ja-vareja" title="Bash-skriptailua ja värejä">&#171; Bash-skriptailua ja värejä</a> 
           &mdash; <a rel="next" href="../356/leiningen-ja-vimclojure-nyt-yhteiselossa" title="Leiningen ja Vimclojure nyt yhteiselossa">Leiningen ja Vimclojure nyt yhteiselossa &#187;</a>
        </p>

        <div class="divider"><img src="../../images/1.gif" alt="---" width="400" height="1" /></div>
        <h2>Aiheen vierestä</h2>
        <ul class="directory">

<li><span class="entry-title"><a rel="bookmark" href="../598/blogille-idea">Blogille&#160;idea</a></span> &#183; <span class="published">2013-01-05</span>
<br /><span class="smallexcerpt">Uuden org-pohjaisen blogialustan miettiminen ja kehittäminen on vasta aluillaan, vaikka yhä uskon joustavamman alustan tarjoavan paremman kanavan tajunnanvirtani ohjaamiselle. Ja...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../524/blogin-varityksesta">Blogin&#160;värityksestä</a></span> &#183; <span class="published">2011-04-18</span>
<br /><span class="smallexcerpt">Säädin blogin värejä. Rukoilkaa, etten säädä niitä enempää.

	Tajusin, että ihmiset eivät välttämättä vastusta valkoista-mustalla -väriteemaa suinkaan tummasta taustasta johtuen, vaan...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../520/ihmekuusessa-400-levya">Ihmekuusessa 400&#160;levyä</a></span> &#183; <span class="published">2011-03-25</span>
<br /><span class="smallexcerpt">Nyt Audioslaven arvioituani Ihmekuusessa/Havuviuhkalla on selattavissa 400 levyn mietteet. Melko pyöreitä lukuja tuli tahattomasti myös statseihin. Sanoja on yhteensä näissä...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../416/blogia-nyt-komentorivilta">Blogia nyt&#160;komentoriviltä</a></span> &#183; <span class="published">2011-01-29</span>
<br /><span class="smallexcerpt">Noniin. Koska sain tuon lyhyiden mietteiden sovelman toimimaan melko hyvin, ajattelin nyt laajentaa tavalliset blogikirjoituksetkin tehtäväksi komentoriviltä, jossa olen melko...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../381/mikrobloggailua-talossa">Mikrobloggailua&#160;talossa</a></span> &#183; <span class="published">2011-01-21</span>
<br /><span class="smallexcerpt">Ja nyt sitä mikrobloggailua on tässä. Edellinen artikkeli johti mielettömän kovaan arpomiseen ja pohdintaan, onko se oikeasti sen arvoista kirjoittaa...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../368/mikrobloggailua-luvassa">Mikrobloggailua&#160;luvassa</a></span> &#183; <span class="published">2011-01-17</span>
<br /><span class="smallexcerpt">Silloin tällöin hetkellinen mielenhäiriö saa minut harkitsemaan Twitterin kaltaisia mikroblogialustoja, sillä joskus saa niin hyviä fiiliksiä pienistä asioista. Sellaisia pikkuasioita...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../361/syntaksivarjays-selaimesi-puolella">Syntaksivärjäys selaimesi&#160;puolella</a></span> &#183; <span class="published">2010-12-09</span>
<br /><span class="smallexcerpt">Edelliset ratkaisut eivät sitten toimineet lainkaan siten kuten halusin. Pääsin jo hyvälle mallille edellisen pohjan kanssa, kun viilasin blogikoneemme Textile-koodia,...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../358/taalla-testataan-syntaksivarjaysta">Täällä testataan&#160;syntaksivärjäystä</a></span> &#183; <span class="published">2010-12-03</span>
<br /><span class="smallexcerpt">Jaksoin ottaa nyt tätä syntaksivärjäyshommaa tehtäväksi. Jos nyt kaikki pelaa, kuten toivon, saan yksillä CSS-määritelmillä kaikille syntakseille jokseenkin samat (yhtenäiset)...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../343/bloggaus-ohjelmointi">Bloggaus-ohjelmointi?</a></span> &#183; <span class="published">2010-10-09</span>
<br /><span class="smallexcerpt">Edellinen blogikirjailu kehittyi muuten siten, että aloitin kirjoittamaan eilen luomastani täydennysmetodista, kunnes totesin, ettei tätä tässä muodossa kehtaa esitellä, joten...</span>
</li>



<li><span class="entry-title"><a rel="bookmark" href="../298/paluu-tuttuihin-ympaeristoeihin">Paluu tuttuihin&#160;ympäristöihin</a></span> &#183; <span class="published">2010-03-26</span>
<br /><span class="smallexcerpt">Tässä olenkin kulutellut aikaani siirtäessäni posteja WordPressistä takaisin kunnon TextPattern-ympäristöön. Luettuani riittävästi tuota TextPattern Solutions -kirjaa olen tullut siihen päätökseen,...</span>
</li>

</ul>

    </div>


<!-- footer -->
	<div id="foot">&nbsp;</div>

</div>

</body>
</html>
